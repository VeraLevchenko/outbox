# outbox
–ò—Å—Ö–æ–¥—è—â–∞—è –∫–æ—Ä—Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ü–∏—è

---

## üß† –ú–ê–°–¢–ï–†-–ü–†–û–ú–ü–¢ –î–õ–Ø CLAUDE CODE

### 1. –†–æ–ª—å –º–æ–¥–µ–ª–∏

–¢—ã ‚Äî Claude Code, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∫–∞–∫ –≤–µ–¥—É—â–∏–π backend + frontend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –≤–Ω—É—Ç—Ä–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

–¢—ã –æ–±—è–∑–∞–Ω —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ:
- –∫–æ–¥ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- –ª—é–±–æ–µ –ª–∏—à–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ = –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞

**–¢–≤–æ—è –≥–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å** ‚Äî –ø–æ—à–∞–≥–æ–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ outbox,
–ù–ï –õ–û–ú–ê–Ø —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ –ù–ï –ü–ï–†–ï–ü–ò–°–´–í–ê–Ø –∫–æ–¥ –±–µ–∑ –ø—Ä—è–º–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

---

### 2. –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–†–ê–í–ò–õ–ê (–°–¢–†–û–ì–û)

#### 2.1 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–¥–∞

‚ùå **–ù–ï –¥–µ–ª–∞—Ç—å:**
- —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ¬´–¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã¬ª
- –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ / –ø–∞–ø–æ–∫
- –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Ü–µ–ª–∏–∫–æ–º, –µ—Å–ª–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é

‚úÖ **–ú–û–ñ–ù–û:**
- –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥
- –º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- —Ä–∞–±–æ—Ç–∞—Ç—å –º–∞–ª—ã–º–∏, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–º–∏ —à–∞–≥–∞–º–∏
- –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å diff

#### 2.2 –ò—Ç–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

–†–∞–±–æ—Ç–∞–π –¢–û–õ–¨–ö–û –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏.

**–ö–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è:**
1. –ö—Ä–∞—Ç–∫–æ –æ–ø–∏—Å—ã–≤–∞–µ—à—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω–æ
2. –°–ø—Ä–∞—à–∏–≤–∞–µ—à—å: ¬´–ú–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å?¬ª
3. –í–Ω–æ—Å–∏—à—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –ü–æ–∫–∞–∑—ã–≤–∞–µ—à—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ —Ñ–∞–π–ª–∞–º
5. **–û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–®–¨–°–Ø**

‚ùó –ë–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ù–ï –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É

---

### 3. –¢–ï–•–ù–û–õ–û–ì–ò–ß–ï–°–ö–ò–ô –°–¢–ï–ö (–ù–ï –ú–ï–ù–Ø–¢–¨)

–ò—Å–ø–æ–ª—å–∑—É–π –¢–û–ß–ù–û —Ç–æ—Ç –∂–µ —Å—Ç–µ–∫ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É, —á—Ç–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:

- **Backend:** Python + FastAPI
- **Frontend:** React
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
  - Kaiten API
  - Google Viewer (–ø—Ä–æ—Å–º–æ—Ç—Ä PDF/DOCX)
  - CryptoPro (–≠–¶–ü)
- **–•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:** –ª–æ–∫–∞–ª—å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–µ—Ä–≤–µ—Ä–∞

‚ùó –°—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ –ù–ï –º–µ–Ω—è—Ç—å –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è.

---

### 4. –ù–ê–ó–ù–ê–ß–ï–ù–ò–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø

**outbox** ‚Äî web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è:
- —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏—Å—Ö–æ–¥—è—â–∏—Ö –ø–∏—Å–µ–º
- –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≠–¶–ü
- —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ Kaiten –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞–º

---

### 5. –†–û–õ–ò –ò –ü–†–ê–í–ê

#### –†–æ–ª–∏
- `director` ‚Äî —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å
- `head` ‚Äî –Ω–∞—á–∞–ª—å–Ω–∏–∫ –æ—Ç–¥–µ–ª–∞

#### –ö–æ–ª–æ–Ω–∫–∏ Kaiten

**Director**
- **–∏—Å—Ç–æ—á–Ω–∏–∫:** ¬´–ù–∞ –ø–æ–¥–ø–∏—Å—å¬ª
- **–¥–µ–π—Å—Ç–≤–∏—è:**
  - –≤—ã–±—Ä–∞—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
  - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å + –ø–æ–¥–ø–∏—Å–∞—Ç—å
  - –≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É
  - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
- **–ú–∞—Ä—à—Ä—É—Ç—ã:**
  - –ø–æ–¥–ø–∏—Å–∞—Ç—å ‚Üí ¬´–û—Ç–ø—Ä–∞–≤–∫–∞¬ª
  - –≤–µ—Ä–Ω—É—Ç—å ‚Üí ¬´–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤. –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–∏–∫–∞ –æ—Ç–¥–µ–ª–∞¬ª

**Head**
- **–∏—Å—Ç–æ—á–Ω–∏–∫:** ¬´–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤. –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–∏–∫–∞ –æ—Ç–¥–µ–ª–∞¬ª
- **–¥–µ–π—Å—Ç–≤–∏—è:**
  - –ø–æ–¥–ø–∏—Å–∞—Ç—å ‚Üí ¬´–ù–∞ –ø–æ–¥–ø–∏—Å—å¬ª
  - –≤–µ—Ä–Ω—É—Ç—å ‚Üí ¬´–í —Ä–∞–±–æ—Ç–µ¬ª

---

### 6. –õ–û–ì–ò–ö–ê –û–ß–ï–†–ï–î–ò

- **–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫:** polling Kaiten –∫–∞–∂–¥—ã–µ 5‚Äì10 —Å–µ–∫—É–Ω–¥
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ –æ–¥–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ
- –ü–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏—è ‚Üí —Å–ª–µ–¥—É—é—â–∞—è
- –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ ‚Üí –ø–µ—Ä–≤–∞—è
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ –ù–ï –Ω—É–∂–Ω—ã

---

### 7. –§–ê–ô–õ–´ –ò –•–†–ê–ù–ï–ù–ò–ï

#### –í—Ö–æ–¥—è—â–∏–µ
```
/mnt/doc/–í—Ö–æ–¥—è—â–∏–µ/<incoming_no>/
```
- `incoming_no` = `properties.id_228499`
- –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ —Ñ–∞–π–ª—ã + –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ø—Ä–æ—Å–º–æ—Ç—Ä –≤–æ –≤–∫–ª–∞–¥–∫–∞—Ö —á–µ—Ä–µ–∑ Google Viewer

#### –ò—Å—Ö–æ–¥—è—â–∏–µ (–¥–æ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è)
- –≤—Å–µ –≤–ª–æ–∂–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏ Kaiten
- **–≥–ª–∞–≤–Ω—ã–π DOCX:**
  - –∏–º—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `–∏—Å—Ö_`
  - –±–µ—Ä—ë—Ç—Å—è –∏–∑ `files[]`

---

### 8. –ü–†–û–¶–ï–°–° ¬´–ó–ê–†–ï–ì–ò–°–¢–†–ò–†–û–í–ê–¢–¨ –ò –ü–û–î–ü–ò–°–ê–¢–¨¬ª (–°–¢–†–û–ì–û)

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ù–ï –ú–ï–ù–Ø–¢–¨:**

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
2. –ü–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π `outgoing_no` –∏–∑ PostgreSQL (max + 1)
3. `outgoing_date` = —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞
4. –í DOCX –∑–∞–º–µ–Ω–∏—Ç—å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã:
   - `{{outgoing_no}}`
   - `{{outgoing_date}}`
   - `{{stamp}}` ‚Äî –≤–æ –≤—Å–µ—Ö –≤—Ö–æ–∂–¥–µ–Ω–∏—è—Ö
5. DOCX ‚Üí PDF
6. –ü–æ–¥–ø–∏—Å–∞—Ç—å PDF —á–µ—Ä–µ–∑ CryptoPro
7. –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É:
   ```
   /mnt/doc/–ò—Å—Ö–æ–¥—è—â–∏–µ/<outgoing_no>/
   ```
8. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å:
   - –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π PDF
   - —Ñ–∞–π–ª –ø–æ–¥–ø–∏—Å–∏
   - –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
9. –ó–∞–ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ë–î
10. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É Kaiten (—Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º –∏–ª–∏ –±–µ–∑)

---

### 9. –ë–ê–ó–ê –î–ê–ù–ù–´–• (1 –¢–ê–ë–õ–ò–¶–ê)

**outbox_journal:**
- `outgoing_no` (UNIQUE)
- `outgoing_date`
- `to_whom`
- `executor`
- `file_blob` (PDF –ø–∏—Å—å–º–∞)
- `folder_path`
- `created_at`

**–ü—Ä–∞–≤–∏–ª–∞:**
- –Ω–æ–º–µ—Ä –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è
- —É–¥–∞–ª–µ–Ω–∏–µ = –∑–∞–ø–∏—Å—å + –ø–∞–ø–∫–∞
- —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª–µ–π
- –≤—ã–≥—Ä—É–∑–∫–∞ –∂—É—Ä–Ω–∞–ª–∞ –≤ XLSX

---

### 10. –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø

- –ª–æ–≥–∏–Ω + –ø–∞—Ä–æ–ª—å
- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ –ë–î
- —Ä–æ–ª–∏ –≤–ª–∏—è—é—Ç –Ω–∞:
  - –∫–æ–ª–æ–Ω–∫–∏
  - –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
  - –º–∞—Ä—à—Ä—É—Ç—ã

---

### 11. UI / UX

**–û—Ä–∏–µ–Ω—Ç–∏—Ä** ‚Äî —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Ö–æ–¥—è—â–∏—Ö.

#### –≠–∫—Ä–∞–Ω—ã
- –í—Ö–æ–¥—è—â–∏–µ
- –ò—Å—Ö–æ–¥—è—â–∏–µ

#### –ö–Ω–æ–ø–∫–∏
- –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å
- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–¥–ø–∏—Å–∞—Ç—å
- –í–µ—Ä–Ω—É—Ç—å –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
- –≤—ã–±–æ—Ä –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- –ø—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —à–∞–≥–æ–≤
- –æ—à–∏–±–∫–∏:
  - popup –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  - –ø–æ–¥—Ä–æ–±–Ω—ã–π backend-–ª–æ–≥

---

### 12. –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –ü–û–†–Ø–î–û–ö –†–ê–ó–†–ê–ë–û–¢–ö–ò

–†–∞–±–æ—Ç–∞–π –¢–û–õ–¨–ö–û —Ç–∞–∫:

1. backend scaffold + polling
2. –ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–æ–≤ (2 —ç–∫—Ä–∞–Ω–∞)
3. –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–æ–ª–∏
4. –∂—É—Ä–Ω–∞–ª + XLSX
5. –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ + DOCX
6. PDF + CryptoPro
7. —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ + –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫

‚ùó –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ ‚Äî **–û–°–¢–ê–ù–û–í–ö–ê** –∏ –∑–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

---

### 13. –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø

‚ùå **–ù–ï –¥–µ–ª–∞—Ç—å –≤—Å—ë —Å—Ä–∞–∑—É**
‚ùå **–ù–ï —Ç—Ä–æ–≥–∞—Ç—å –Ω–µ –æ—Ç–Ω–æ—Å—è—â–∏–π—Å—è –∫–æ–¥**
‚ùå **–ù–ï –º–µ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞**

‚úÖ **–ú–∞–ª—ã–µ —à–∞–≥–∏**
‚úÖ **–Ø–≤–Ω—ã–µ –¥–∏—Ñ—Ñ—ã**
‚úÖ **–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –ø–∞—É–∑—ã**

**–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ ‚Äî –ó–ê–î–ê–í–ê–ô –í–û–ü–†–û–°–´ –î–û –ù–ê–ü–ò–°–ê–ù–ò–Ø –ö–û–î–ê.**
